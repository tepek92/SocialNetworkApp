{"version":3,"sources":["hoc/WithAuthNavigate.jsx","components/Users/Users.module.css","components/Users/Users.jsx","redux/usersSelector.js","components/Users/UsersContainer.jsx"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","mapStateToProps","state","isAuthorized","auth","WithAuthNavigate","Component","connect","props","a","createElement","to","module","exports","userAvatar","active","Users","page","pagesCount","Math","ceil","totalCount","usersCountPage","i","push","centralP","currentPage","leftP","rigtP","slicePage","slice","react_default","onClick","setNewCurrentPage","map","p","className","s","users","u","react_router_dom","id","src","photos","small","userPhoto","alt","name","status","disabled","isFollowedProgress","some","follow","followed","getUsers","usersPage","get小urrentPage","getTotalCount","getUsersCountPage","getPagesCount","getIsFetching","isFetching","getIsFollowedProgress","UsersContainer","_this","getUsersInfo","this","Preloader","components_Users_Users","setIsDisabled","React","compose"],"mappings":"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","file":"static/js/7.113fc640.chunk.js","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Navigate } from \"react-router-dom\";\n\nconst mapStateToProps = (state) => {\n    return {\n      isAuthorized: state.auth.isAuthorized\n    };\n  };\n\nconst WithAuthNavigate = (Component) => {\n  let AuthNavigateComponent = (props) => {\n    return props.isAuthorized ? (\n      <Component {...props} />\n    ) : (\n      <Navigate to={\"/login\"} />\n    );\n  };\n  return connect(mapStateToProps)(AuthNavigateComponent);\n};\n\n\n\n\nexport default WithAuthNavigate;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userAvatar\":\"Users_userAvatar__XTlwW\",\"active\":\"Users_active__1P6DZ\"};","import React from \"react\";\nimport s from \"./Users.module.css\";\nimport userPhoto from \"../../img/user.png\";\nimport { NavLink } from \"react-router-dom\";\n\nconst Users = (props) => {\n  let page = [];\n  let pagesCount = Math.ceil(props.totalCount / props.usersCountPage);\n\n  for (let i = 1; i <= pagesCount; i++) {\n    page.push(i);\n  }\n\n  let centralP = props.currentPage;\n  let leftP = centralP - 5 < 0 ? 0 : centralP - 5;\n  let rigtP = centralP + 5;\n\n  let slicePage = page.slice(leftP, rigtP);\n\n  return (\n    <div>\n      <button onClick={() => props.setNewCurrentPage(1)}>{\"<<<\"}</button>\n      {slicePage.map((p) => (\n        <button\n          className={p === props.currentPage && s.active}\n          onClick={() => props.setNewCurrentPage(p)}\n        >\n          {\" \"}\n          {p}{\" \"}\n        </button>\n      ))}\n      <button onClick={() => props.setNewCurrentPage(pagesCount)}>{\">>>\"}</button>\n      {props.users.map((u) => {\n        return (\n          <div>\n            <NavLink to={\"/profile/\" + u.id}>\n              <img\n                className={s.userAvatar}\n                src={u.photos.small || userPhoto}\n                alt=\"\"\n              />\n            </NavLink>\n            <div> {u.name} </div>\n            <div> {u.status} </div>\n            <button\n              disabled={props.isFollowedProgress.some((id) => id === u.id)}\n              onClick={() => props.follow(u.id, u.followed)}\n            >\n              {u.followed ? \"Unfollow\" : \"Follow\"}\n            </button>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Users;\n","export const getUsers = (state) => state.usersPage.users;\nexport const get小urrentPage = (state) => state.usersPage.currentPage;\nexport const getTotalCount = (state) => state.usersPage.totalCount;\nexport const getUsersCountPage = (state) => state.usersPage.usersCountPage;\nexport const getPagesCount = (state) => state.usersPage.pagesCount;\nexport const getIsFetching = (state) => state.usersPage.isFetching;\nexport const getIsFollowedProgress = (state) => state.usersPage.isFollowedProgress;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { follow, getUsersInfo } from \"../../redux/usersReducer\";\nimport Users from \"./Users\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport { compose } from \"redux\";\nimport WithAuthNavigate from \"../../hoc/WithAuthNavigate\";\nimport { getIsFetching, getIsFollowedProgress, getPagesCount, getTotalCount, getUsers, getUsersCountPage, get小urrentPage } from \"../../redux/usersSelector\";\n\nclass UsersContainer extends React.Component {\n  componentDidMount() {\n    this.props.getUsersInfo(this.props.currentPage, this.props.usersCountPage);\n  }\n\n  setNewCurrentPage = (currentPage) => {\n    this.props.getUsersInfo(currentPage, this.props.usersCountPage);\n  };\n\n  render() {\n    return (\n      <div>\n        {this.props.isFetching ? (\n          <Preloader />\n        ) : (\n          <Users\n            users={this.props.users}\n            currentPage={this.props.currentPage}\n            totalCount={this.props.totalCount}\n            usersCountPage={this.props.usersCountPage}\n            follow={this.props.follow}\n            setNewCurrentPage={this.setNewCurrentPage}\n            setIsDisabled={this.props.setIsDisabled}\n            isFollowedProgress={this.props.isFollowedProgress}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  users: getUsers(state),\n  currentPage: get小urrentPage(state),\n  totalCount: getTotalCount(state),\n  usersCountPage: getUsersCountPage(state),\n  pagesCount: getPagesCount(state),\n  isFetching: getIsFetching(state),\n  isFollowedProgress: getIsFollowedProgress(state),\n});\n\nexport default compose(connect(mapStateToProps, { follow, getUsersInfo }), WithAuthNavigate)(UsersContainer);\n"],"sourceRoot":""}