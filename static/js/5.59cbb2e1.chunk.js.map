{"version":3,"sources":["helpers/validators/Validators.js","components/common/FormControler/FormControler.jsx","components/common/FormControler/FormControler.module.css","hoc/WithAuthNavigate.jsx","img/presswall.jpg","components/Profile/Profileinfo/Profileinfo.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/Profileinfo/ProfileStatus.jsx","components/Profile/Profileinfo/Profileinfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","redux/profileSelector.js","components/Profile/ProfileContainer.jsx"],"names":["__webpack_require__","d","__webpack_exports__","require","maxLength","value","undefined","length","concat","FormInputCreator","_ref","Element","meta","input","props","Object","_Users_pavel_project_it_incubator_SocialNetworkApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","assign","className","error","touched","s","element","module","exports","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","mapStateToProps","state","isAuthorized","auth","WithAuthNavigate","Component","connect","to","p","presswall","avatar","link","item","myPosts","ProfileStatus","_useState","useState","_useState2","slicedToArray","editMode","setEditMode","_useState3","userStatus","_useState4","setUserStatus","useEffect","changeMode","e","updateUserStatus","target","react_default","onChange","autoFocus","onBlur","onDoubleClick","Profileinfo","userProfile","src","alt","fullName","photos","large","Profileinfo_ProfileStatus","lookingForAJob","lookingForAJobDescription","keys","contacts","map","href","Preloader","Post","message","likeCount","maxLength50","ReduxPostForm","reduxForm","form","onSubmit","handleSubmit","Field","validate","component","name","MyPosts","postElement","postDate","MyPosts_Post_Post","console","log","formData","addNewPost","newpost","MyPostsContainer","profilePage","newPostText","Profile","Profile_Profileinfo_Profileinfo","MyPosts_MyPostsContainer","getUserProfile","getUserStatus","getAuthorizedUserId","id","getIsAuthorized","ProfileContainer","userID","this","router","params","userId","authorizedUserId","setUserProfile","components_Profile_Profile","React","compose","withRouter"],"mappings":"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","file":"static/js/5.59cbb2e1.chunk.js","sourcesContent":["export const require = (value) => {\n    return value ? undefined : \"Field is require\"\n};\n\nexport const maxLength = (length) => (value) => {\n    return value.length > length ? `Max length is ${length} symbol` : undefined;\n};","import React from \"react\";\nimport s from \"./FormControler.module.css\"\n\nexport const FormInputCreator = ({ Element, meta, input, ...props }) => {\n  return (\n    <div>\n      <div>\n        <Element className={meta.error && meta.touched && s.element}{...input} {...props} />\n      </div>\n      <div>\n        {meta.error && meta.touched && <span>{meta.error}</span>}\n      </div>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"element\":\"FormControler_element__3MPTr\"};","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Navigate } from \"react-router-dom\";\n\nconst mapStateToProps = (state) => {\n    return {\n      isAuthorized: state.auth.isAuthorized\n    };\n  };\n\nconst WithAuthNavigate = (Component) => {\n  let AuthNavigateComponent = (props) => {\n    return props.isAuthorized ? (\n      <Component {...props} />\n    ) : (\n      <Navigate to={\"/login\"} />\n    );\n  };\n  return connect(mapStateToProps)(AuthNavigateComponent);\n};\n\n\n\n\nexport default WithAuthNavigate;\n","module.exports = __webpack_public_path__ + \"static/media/presswall.1ad3742e.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"presswall\":\"Profileinfo_presswall__2OoRz\",\"avatar\":\"Profileinfo_avatar__3wYR-\",\"link\":\"Profileinfo_link__3YBJM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3iSFZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__33DC9\"};","import React, { useEffect } from \"react\";\nimport { useState } from \"react\";\n// import s from \"./Profileinfo.module.css\";\n\nconst ProfileStatus = (props) => {\n\n  // С помощью хука useState создаю \"локальный стейт\"\n  // с переменными и функциями меняющими эти переменные\"\n  let [editMode, setEditMode] = useState(false);\n  let [userStatus, setUserStatus] = useState(props.userStatus);\n\n  // С помощью хука useEffect, создаю зависимость.\n  // При изменении приходящего в пропсах значения props.userStatus\n  // Меняем значение userStatus в \"локальном стейте\"\n  useEffect(() => setUserStatus(props.userStatus), [props.userStatus]);\n\n  // Функция вызывается при нажатии на <span> статус.\n  // Или смне фокуса c <input>, в котором мы меняем статус.\n  // В зависимомти от состояния editMode\n  const changeMode = (e) => {\n    if (editMode) {\n      setEditMode(false); // могу ли я эту функцию использовать в условиях и циклах??\n      props.updateUserStatus(e.target.value);\n    } else {\n      setEditMode(true); // могу ли я эту функцию использовать в условиях и циклах??\n    }\n  };\n\n  const changeStatus = (e) => {\n    setUserStatus(e.target.value);\n  };\n\n  return (\n    <div>\n      {editMode && (\n        <input\n          onChange={changeStatus}\n          autoFocus\n          onBlur={changeMode}\n          value={userStatus}\n        />\n      )}\n      {!editMode && (\n        <span onDoubleClick={changeMode}>\n          {userStatus || \"Добавить статус\"}\n        </span>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileStatus;\n","import React from \"react\";\nimport presswall from \"../../../img/presswall.jpg\";\nimport avatar from \"../../../img/user.png\";\nimport s from \"./Profileinfo.module.css\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport ProfileStatus from \"./ProfileStatus\"\n\nconst Profileinfo = (props) => {\n  if (!props.userProfile) {\n    return <Preloader />;\n  }\n  return (\n    <div>\n      <div>\n        <img className={s.presswall} src={presswall} alt=\"presswall\" />\n      </div>\n      <div>\n        <div>{props.userProfile.fullName}</div>\n        <img\n          className={s.avatar}\n          src={props.userProfile.photos.large || avatar}\n          alt=\"avatar\"\n        />\n        <ProfileStatus updateUserStatus={props.updateUserStatus} userStatus={props.userStatus} />\n        <br/>\n        <div>Место работы:\n          {props.userProfile.lookingForAJob\n            ? props.userProfile.lookingForAJobDescription\n            : \"Уже работаю\"}\n        </div>\n        <div className={s.link}>\n          <br/>\n          Где меня найти:\n          {Object.keys(props.userProfile.contacts).map((link) => {\n            return (\n              <div>\n                {\"==> \"}\n                <a href={\"https://\" + props.userProfile.contacts[link]}>\n                  {link}\n                </a>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Profileinfo;\n","import React from \"react\";\nimport s from \"./Post.module.css\";\n\n// class Post extends React.Component {\n//   render() {\n//     console.log(\"post rerender\");\n//     return (\n//       <div className={s.item}>\n//         <img\n//           src=\"https://cspromogame.ru//storage/upload_images/avatars/1299.jpg\"\n//           alt=\"avatar\"\n//         />\n//         {this.props.message}\n//         <div>Like: {this.props.likeCount}</div>\n//       </div>\n//     );\n//   }\n// }\n\nconst Post = (props) => {\n  return (\n    <div className={s.item}>\n      <img\n        src=\"https://cspromogame.ru//storage/upload_images/avatars/1299.jpg\"\n        alt=\"avatar\"\n      />\n      {props.message}\n      <div>Like: {props.likeCount}</div>\n    </div>\n  );\n};\n\nexport default Post;\n","import React from \"react\";\nimport Post from \"./Post/Post\";\nimport s from \"./MyPosts.module.css\";\nimport { Field, reduxForm } from \"redux-form\";\nimport {require, maxLength} from \"../../../helpers/validators/Validators\"\nimport { FormInputCreator } from \"../../common/FormControler/FormControler\";\n\nconst MyPosts = (props) => {\n  let postElement = props.postDate.map((p) => (\n    <Post message={p.message} likeCount={p.likeCount} />\n  ));\n\n  \n\n  const onSubmit = (formData) => {\n    console.log(formData);\n    props.addNewPost(formData.newpost);\n  }\n\n    console.log(\"MYpost rerender\");\n  \n  return (\n    <div className={s.myPosts}>\n      My posts\n      <ReduxPostForm onSubmit={onSubmit}/>\n      <div>{postElement}</div>\n    </div>\n  );\n};\n\nconst maxLength50 = maxLength(50);\n\nconst PostForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div><Field validate={[require, maxLength50]} component={FormInputCreator} name=\"newpost\" Element={\"textarea\"}/></div>\n      <div><button>Добавить</button></div>\n    </form>\n  );\n};\n\nconst ReduxPostForm = reduxForm({form: \"post\"})(PostForm);\n\n\nexport default MyPosts;","import MyPosts from \"./MyPosts\";\nimport { connect } from \"react-redux\";\n\nimport { addNewPost } from \"../../../redux/profileReducer\";\n\nconst mapStateToProps = (state) => {\n  return {\n    postDate: state.profilePage.postDate,\n    newPostText: state.profilePage.newPostText,\n  };\n};\n\nconst MyPostsContainer = connect(mapStateToProps, { addNewPost })(MyPosts);\n\nexport default MyPostsContainer;\n","import React from \"react\";\n// import s from \"./Profile.module.css\";\nimport Profileinfo from \"./Profileinfo/Profileinfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\nconst Profile = (props) => {\n  return (\n    <div>\n      <Profileinfo {...props}/>\n      <MyPostsContainer />\n    </div>\n  );\n};\n\nexport default Profile;\n","export const getUserProfile = (state) => state.profilePage.userProfile;\nexport const getUserStatus = (state) => state.profilePage.userStatus;\nexport const getAuthorizedUserId = (state) => state.auth.id;\nexport const getIsAuthorized = (state) => state.auth.isAuthorized;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { setUserProfile, setUserStatus, updateUserStatus } from \"../../redux/profileReducer\";\nimport Profile from \"./Profile\";\nimport WithAuthNavigate from \"../../hoc/WithAuthNavigate\";\nimport { compose } from \"redux\";\nimport withRouter from \"../../hoc/WithRouter\";\nimport { getAuthorizedUserId, getIsAuthorized, getUserProfile, getUserStatus } from \"../../redux/profileSelector\";\n\nclass ProfileContainer extends React.Component {\n  componentDidMount() {\n    let userID = this.props.router.params.userId || this.props.authorizedUserId;\n    this.props.setUserProfile(userID);\n    this.props.setUserStatus(userID);\n  }\n\n  render() {\n    return (\n      <div>\n        <Profile {...this.props} /> \n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    userProfile: getUserProfile(state),\n    userStatus: getUserStatus(state),\n    authorizedUserId: getAuthorizedUserId(state),\n    isAuthorized: getIsAuthorized(state),\n\n  };\n};\n\nexport default  compose(connect(mapStateToProps, { setUserProfile, setUserStatus, updateUserStatus }), withRouter, WithAuthNavigate )(ProfileContainer);"],"sourceRoot":""}